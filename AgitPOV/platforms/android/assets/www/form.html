<html>
    <head>
    <title>
        test d'envoi de données au esp8266 par un formulaire caché
        </title>
              
<script>
        
var monMot = "yesssir"; 
    
function envoi(unMot) {
  // from http://stackoverflow.com/questions/8638984/send-post-data-to-php-without-using-an-html-form
  var theForm, newInput1;
  theForm = document.createElement('form');
  theForm.action = 'http://192.168.4.1';
  theForm.method = 'post';
  newInput1 = document.createElement('input');
  newInput1.type = 'hidden';
  newInput1.name = 'AgitPOV';
  // newInput1.value = 'téstËng';
    console.log(unMot);
  newInput1.value = unMot;
  theForm.appendChild(newInput1);
  document.getElementById('hidden_form_container').appendChild(theForm);
  theForm.submit();
  }
    
</script>

        
    </head>
    
    <body>
    
un piton en quelque part qui appelle 'envoi()'
        <div id="hidden_form_container" style="display:none;"></div>
<input type="button" value="envoyer" onclick="envoi(monMot);">

            </body>

</html>